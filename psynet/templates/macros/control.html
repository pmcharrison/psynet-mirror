{% macro null(config) %}
    <div class="row">
        <div class="col-xs-10"></div>
        <div class="col-xs-2">
            <button type="button" id="next_button" class="btn btn-success btn-lg response" onclick="psynet.next_page();">Next
            </button>
        </div>
    </div>
{% endmacro %}

{% macro nafc_button(config) %}
    {% if config.own_line %} <p style="padding:1em"> {% endif %}
    <button
        type="button"
        class="btn btn-primary response"
        id="{{ config.id }}"
        onclick="clicked_button('{{ config.id }}');"
        style="min-width:{{ config.min_width }}"
    >
    {{ config.label }}
    </button>
    {% if config.own_line %} </p> {% endif %}
{% endmacro %}

{% macro nafc(config) %}
    <div>
        {% for button in config.buttons %}
            {{ nafc_button(button) }}
        {% endfor %}
    </div>

    <script>
        clicked_button = function(id) {
            psynet.response.disable();
            psynet.next_page(id);
        }
    </script>
{% endmacro %}

{% macro audio_meter(config) %}
    <table style="width: 500px; padding: 10px">
        <tbody>
            <tr align="left" valign="middle">
                <td width="300px">
                    <div style="background-color: black; width: 300px; height: 50px">
                        <canvas id="audio_meter" width="300" height="50"></canvas>
                    </div>
                </td>
                <td width="20px"></td>
                <td align="left">
                    <p id="audio_meter_text" style="font-weight: bold; margin: 0px"></p>
                </td>
            </tr>
        </tbody>
    </table>


        <!-- <div class="col-xs-6"> -->

        <!-- </div> -->
    <!-- </div> -->



    {{ null(config) }}

    <script>
        psynet.response.wait_for("audio_meter");
        setTimeout(
            ()=> psynet.response.ready("audio_meter"),
            1000 * {{ config.min_time }}
        );
    </script>

    <script>
        {% include "macros/control/audio_meter.js" %}

        audio_meter_control.init({
            decay: {
            display: 0.25,
            high: 0.25,
            low: 0.25
            },
            threshold: {
                high: 0.8,
                low: 0.1
            },
            duration: {
                high: 0.2,
                low: 0.2
            }
        });

    </script>
{% endmacro %}