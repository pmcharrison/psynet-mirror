.. _command_line:

====================
Command-Line Utility
====================

PsyNet is executed from the command line within the experiment directory.

Export data from an experiment
------------------------------

The data is exported in three distinct formats into the ``data/data-<APP_ID>``
directory of an experiment which has following structure:

::

  data/
  └── data-<app>/
      ├── csv/
      ├── db-snapshot/
      └── json/

csv:
    Contains the experiment data in CSV format.
db-snapshot:
    Contains the zip file generated by the default Dallinger export command.
json:
    Contains the experiment data in JSON format.

Local export
************

.. code:: bash
  
  psynet export --local --app APP_ID

.. note::
  Make sure you have an instance of PsyNet runnning on localhost port 5000.

Export from sandbox/production
******************************

.. code:: bash
  
  psynet export --app APP_ID

**Usage**

.. code:: bash
  
  psynet export [OPTIONS]

  Options:
    --verbose        Verbose mode
    --app TEXT       Experiment id
    --local          Export local data
    --force-prepare  Force override of cache.
    --help           Show this message and exit.

Run an experiment locally
-------------------------

Start an experiment in debug mode with verbose output on localhost port 5000.

.. code:: bash

  psynet debug --verbose

**Usage**

.. code:: bash
  
  psynet debug [OPTIONS]

  Options:
    --verbose        Verbose mode
    --bot            Use bot to complete experiment
    --proxy TEXT     Alternate port when opening browser windows
    --no-browsers    Skip opening browsers
    --force-prepare  Force override of cache.
    --help           Show this message and exit.


Sandbox an experiment
---------------------

Deploy an experiment using Heroku to the MTurk Sandbox.

**Usage**

.. code:: bash
  
  psynet sandbox [OPTIONS]

  Options:
    --verbose        Verbose mode
    --app TEXT       Experiment id
    --archive TEXT   Optional path to an experiment archive
    --force-prepare  Force override of cache.
    --help           Show this message and exit.


Deploy an experiment 
--------------------

Deploy an experiment using Heroku to MTurk.

**Usage**

.. code:: bash
  
  psynet deploy [OPTIONS]

  Options:
    --verbose        Verbose mode
    --app TEXT       ID of the deployed experiment
    --archive TEXT   Optional path to an experiment archive
    --force-prepare  Force override of cache.
    --help           Show this message and exit.
